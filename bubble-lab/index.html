<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="robots" content="index, follow" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Create Bubble Letter Coloring Pages | Coco the Axolotl</title>
  <meta name="description" content="Create bubble letter coloring pages online. Type text, choose a bubble font, add decorations, pick paper size, and download." />

  <link rel="icon" type="image/x-icon" href="/favicon.ico?v=2" />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Bubblegum+Sans&family=Luckiest+Guy&family=Bangers&family=Chewy&display=swap" rel="stylesheet">

  <style>
    :root{
      --pink:#ff69b4;
      --pink2:#f7c1cc;
      --bg:#fff6fb;
      --card:#ffffff;
      --text:#222;
      --muted:#666;
      --line:#f0d6e3;
      --shadow:0 10px 30px rgba(0,0,0,.08);
      --radius:18px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: linear-gradient(180deg, #ffffff 0%, var(--bg) 60%);
      color:var(--text);
    }
    .topbar{
      display:flex;
      align-items:center;
      gap:12px;
      padding:14px 18px;
      border-bottom:1px solid #eee;
      background:#fff;
      position:sticky;
      top:0;
      z-index:5;
    }
    .brand{
      display:flex;
      align-items:center;
      gap:10px;
      font-weight:900;
    }
    .logo{
      width:28px;height:28px;border-radius:8px;
      background: linear-gradient(135deg, var(--pink), #8b5cf6);
      display:inline-block;
    }
    .brand span{letter-spacing:.2px}
    .nav{
      margin-left:auto;
      display:flex;
      gap:10px;
      align-items:center;
    }
    .nav a{
      text-decoration:none;
      color:var(--muted);
      font-weight:700;
      padding:8px 10px;
      border-radius:12px;
    }
    .nav a:hover{background:#f7f7f7}

    .wrap{
      max-width:1200px;
      margin:0 auto;
      padding:26px 16px 40px;
    }

    .hero{
      text-align:center;
      margin:12px 0 18px;
    }
    .hero h1{
      margin:0;
      font-size:42px;
      font-weight:1000;
      background: linear-gradient(90deg, #ff5aa5, #8b5cf6);
      -webkit-background-clip:text;
      background-clip:text;
      color:transparent;
    }
    .hero p{
      margin:10px auto 0;
      max-width:720px;
      color:var(--muted);
      font-weight:600;
    }

    .panel{
      margin-top:22px;
      background: var(--card);
      border:2px solid #ffd7e8;
      border-radius: 26px;
      box-shadow: var(--shadow);
      padding:18px;
    }

    .grid{
      display:grid;
      grid-template-columns: 1fr 1.2fr;
      gap:18px;
      align-items:start;
    }

    .box{
      border:1px solid #f2e1ea;
      border-radius: 18px;
      padding:16px;
      background:#fff;
    }

    .box h2{
      margin:0 0 10px;
      font-size:20px;
    }
    .help{
      margin:0 0 14px;
      color:var(--muted);
      font-size:13px;
      font-weight:600;
      line-height:1.35;
    }

    label{
      display:block;
      text-align:left;
      font-size:13px;
      color:var(--muted);
      font-weight:800;
      margin:12px 0 6px;
    }

    textarea{
      width:100%;
      min-height:70px;
      resize:vertical;
      padding:12px 12px;
      border-radius:14px;
      border:1px solid #eee;
      outline:none;
      font-weight:700;
      font-size:15px;
    }
    textarea:focus{border-color:#ffd1e3; box-shadow:0 0 0 4px rgba(255,105,180,.12)}

    select, input[type="range"]{width:100%;}
    select{
      padding:10px 12px;
      border-radius:14px;
      border:1px solid #eee;
      font-weight:800;
      outline:none;
      background:#fff;
    }
    select:focus{border-color:#ffd1e3; box-shadow:0 0 0 4px rgba(255,105,180,.12)}

    .rangeRow{
      display:flex;
      gap:10px;
      align-items:center;
    }
    .pill{
      padding:6px 10px;
      border-radius:999px;
      border:1px solid #eee;
      font-weight:900;
      font-size:12px;
      color:#333;
      background:#fff;
      min-width:54px;
      text-align:center;
    }

    .decos{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      margin-top:6px;
      justify-content:flex-start;
    }
    .chip{
      border:1px solid #eee;
      background:#fff;
      border-radius:999px;
      padding:8px 10px;
      font-weight:900;
      font-size:13px;
      cursor:pointer;
      user-select:none;
      display:flex;
      gap:8px;
      align-items:center;
    }
    .chip:hover{border-color:#ffd1e3}
    .chip.active{
      border-color:var(--pink);
      box-shadow:0 0 0 4px rgba(255,105,180,.12);
    }
    .chip .dot{
      width:10px;height:10px;border-radius:50%;
      background:linear-gradient(135deg,var(--pink),#8b5cf6);
      display:inline-block;
    }

    .sizes{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top:8px;
    }
    .sizeBtn{
      width:54px;
      height:54px;
      border-radius:14px;
      border:1px solid #eee;
      background:#fff;
      cursor:pointer;
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:1000;
      color:#444;
      position:relative;
    }
    .sizeBtn:hover{border-color:#ffd1e3}
    .sizeBtn.active{
      border-color:var(--pink);
      box-shadow:0 0 0 4px rgba(255,105,180,.12);
    }
    .sizeIcon{
      width:28px;height:28px;border:2px solid #666;border-radius:6px;
      opacity:.7;
    }
    .sizeBtn[data-ratio="1:1"] .sizeIcon{width:26px;height:26px}
    .sizeBtn[data-ratio="3:4"] .sizeIcon{width:22px;height:28px}
    .sizeBtn[data-ratio="2:3"] .sizeIcon{width:20px;height:30px}
    .sizeBtn[data-ratio="4:3"] .sizeIcon{width:28px;height:22px}
    .sizeBtn[data-ratio="3:2"] .sizeIcon{width:30px;height:20px}
    .sizeLabel{
      position:absolute;
      bottom:6px;
      font-size:11px;
      font-weight:1000;
      opacity:.8;
    }

    .previewBox{
      padding:16px;
      border-radius:18px;
      background:#fff;
      border:1px solid #f2e1ea;
      position:sticky;
      top:84px;
    }
    .canvasWrap{
      background:#fafafa;
      border-radius:16px;
      padding:12px;
      border:1px solid #eee;
    }
    canvas{
      width:100%;
      height:auto;
      background:#fff;
      border-radius:12px;
      box-shadow:0 8px 20px rgba(0,0,0,.06);
      display:block;
    }

    .actions{
      display:flex;
      gap:10px;
      margin-top:12px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:flex-end;
    }
    .btn{
      border:none;
      border-radius:14px;
      padding:12px 14px;
      font-weight:1000;
      cursor:pointer;
      text-decoration:none;
      display:inline-flex;
      align-items:center;
      gap:8px;
    }
    .btn.primary{background:var(--pink);color:#fff}
    .btn.primary:hover{filter:brightness(.98)}
    .btn.ghost{background:#fff;color:var(--pink);border:2px solid var(--pink)}
    .btn.ghost:hover{background:rgba(255,105,180,.06)}
    .btn.small{padding:10px 12px;border-radius:12px}
    .btn:active{transform:translateY(1px)}
    .leftActions{display:flex;gap:10px;flex-wrap:wrap;align-items:center}

    .mini{
      font-size:12px;
      color:var(--muted);
      font-weight:700;
      text-align:left;
      margin-top:10px;
      line-height:1.35;
    }

    @media (max-width: 980px){
      .grid{grid-template-columns:1fr}
      .previewBox{position:relative; top:auto}
      .hero h1{font-size:34px}
    }
  </style>
</head>

<body>
  <div class="topbar">
    <div class="brand">
      <span class="logo" aria-hidden="true"></span>
      <span>Coco Lab</span>
    </div>
    <div class="nav">
      <a href="/">Home</a>
      <a href="/kids-games/">Kids Games</a>
      <a href="/coloring-books/">Books</a>
    </div>
  </div>

  <div class="wrap">
    <div class="hero">
      <h1>Create Bubble Letter Coloring Pages Online</h1>
      <p>Type text, pick a bubble font, add cute decorations, choose paper size, and download a printable page.</p>
    </div>

    <div class="panel">
      <div class="grid">
        <div class="box">
          <h2>Personalize Your Page</h2>
          <p class="help">Enter a name (or short sentence), choose a bubble font, adjust size, add decorations, then download your printable page.</p>

          <label for="textInput">Text</label>
          <textarea id="textInput" maxlength="60">WISH YOU HAPPY
EVERY DAY!
COCOTHEAXOLOTL.ORG</textarea>

          <label for="fontSelect">Font Style</label>
          <select id="fontSelect">
            <option value="Fredoka One" selected>Fredoka One (Round)</option>
            <option value="Bubblegum Sans">Bubblegum Sans (Bubble)</option>
            <option value="Luckiest Guy">Luckiest Guy (Comic)</option>
            <option value="Chewy">Chewy (Soft)</option>
            <option value="Bangers">Bangers (Bold)</option>
          </select>

          <label for="sizeRange">Font Size</label>
          <div class="rangeRow">
            <input id="sizeRange" type="range" min="70" max="220" value="140" />
            <div class="pill" id="sizeValue">140%</div>
          </div>

          <label>Decoration</label>
          <div class="decos" id="decoChips">
            <div class="chip active" data-deco="stars"><span class="dot"></span> ‚≠ê Stars</div>
            <div class="chip" data-deco="hearts"><span class="dot"></span> ‚ù§Ô∏è Hearts</div>
            <div class="chip" data-deco="bubbles"><span class="dot"></span> ü´ß Bubbles</div>
            <div class="chip" data-deco="confetti"><span class="dot"></span> üéâ Confetti</div>
            <div class="chip" data-deco="none"><span class="dot"></span> üö´ None</div>
          </div>

          <label>Paper Size</label>
          <div class="sizes" id="sizeBtns">
            <button class="sizeBtn active" data-ratio="1:1" type="button"><span class="sizeIcon"></span><span class="sizeLabel">1:1</span></button>
            <button class="sizeBtn" data-ratio="3:4" type="button"><span class="sizeIcon"></span><span class="sizeLabel">3:4</span></button>
            <button class="sizeBtn" data-ratio="2:3" type="button"><span class="sizeIcon"></span><span class="sizeLabel">2:3</span></button>
            <button class="sizeBtn" data-ratio="4:3" type="button"><span class="sizeIcon"></span><span class="sizeLabel">4:3</span></button>
            <button class="sizeBtn" data-ratio="3:2" type="button"><span class="sizeIcon"></span><span class="sizeLabel">3:2</span></button>
          </div>

          <div class="mini">
            <strong>Tip:</strong> Keep it short for best results (a name or 2‚Äì3 lines). This is a simple ‚Äúbubble outline‚Äù generator (no AI needed).
          </div>
        </div>

        <div class="previewBox">
          <div class="canvasWrap">
            <canvas id="canvas" width="1600" height="1600" aria-label="Preview"></canvas>
          </div>

          <div class="actions">
            <div class="leftActions">
              <button class="btn ghost small" id="resetBtn" type="button">Reset</button>
              <a class="btn ghost small" href="/bubble-name/" title="Simple version">Simple</a>
            </div>
            <!-- PRINT REMOVED -->
            <button class="btn primary" id="downloadBtn" type="button">Download PNG</button>
          </div>
        </div>
      </div>
    </div>
  </div>

<script>
  const canvas = document.getElementById("canvas");
  const ctx = canvas.getContext("2d");

  const textInput = document.getElementById("textInput");
  const fontSelect = document.getElementById("fontSelect");
  const sizeRange = document.getElementById("sizeRange");
  const sizeValue = document.getElementById("sizeValue");
  const decoChips = document.getElementById("decoChips");
  const sizeBtns = document.getElementById("sizeBtns");
  const downloadBtn = document.getElementById("downloadBtn");
  const resetBtn = document.getElementById("resetBtn");

  let state = {
    text: textInput.value,
    font: fontSelect.value,
    scale: parseInt(sizeRange.value, 10),
    deco: "stars",
    ratio: "1:1"
  };

  function setCanvasRatio(ratio){
    const base = 1600;
    let w = base, h = base;
    if(ratio === "1:1"){ w = base; h = base; }
    if(ratio === "3:4"){ w = 1200; h = 1600; }
    if(ratio === "2:3"){ w = 1066; h = 1600; }
    if(ratio === "4:3"){ w = 1600; h = 1200; }
    if(ratio === "3:2"){ w = 1600; h = 1066; }
    canvas.width = w;
    canvas.height = h;
  }

  function sanitizeText(s){
    // NO \p{...} (can break and cause blank page). Keep common chars + accents.
    return (s || "")
      .replace(/\r/g, "")
      .replace(/[^\w\s\-\.\,\!\?\:\;\'\"\(\)\[\]\{\}\/\\@#&\n√Ä-√ñ√ò-√∂√∏-√ø]/g, "")
      .slice(0, 60);
  }

  function wrapLines(raw){
    const cleaned = sanitizeText(raw).trim();
    if(!cleaned) return ["COCO"];
    const lines = cleaned.split("\n").map(l => l.trim()).filter(Boolean);
    if(lines.length === 1 && lines[0].length > 18){
      const t = lines[0];
      const a = t.slice(0, 18).trim();
      const b = t.slice(18, 36).trim();
      const c = t.slice(36).trim();
      return [a, b, c].filter(Boolean).slice(0, 3);
    }
    return lines.slice(0, 4);
  }

  function fitFont(lines, maxWidth, startPx){
    let size = startPx;
    while(size > 40){
      ctx.font = `900 ${size}px "${state.font}", Arial Black, Arial`;
      const widest = Math.max(...lines.map(l => ctx.measureText(l).width));
      if(widest <= maxWidth) return size;
      size -= 4;
    }
    return 40;
  }

  function drawDecos(){
    if(state.deco === "none") return;

    const W = canvas.width, H = canvas.height;
    const n = Math.round((W*H) / 350000);
    ctx.save();
    ctx.strokeStyle = "#000";
    ctx.lineWidth = 4;

    function rand(min,max){ return min + Math.random()*(max-min); }

    for(let i=0;i<n;i++){
      const x = rand(80, W-80);
      const y = rand(80, H-80);
      const s = rand(18, 40);

      const cx = W/2, cy = H/2;
      if(Math.abs(x-cx) < W*0.25 && Math.abs(y-cy) < H*0.25) continue;

      ctx.beginPath();

      if(state.deco === "bubbles"){
        ctx.arc(x,y,s,0,Math.PI*2);
        ctx.stroke();
        ctx.beginPath();
        ctx.arc(x+s*0.35, y-s*0.35, s*0.18, 0, Math.PI*2);
        ctx.stroke();
      }

      if(state.deco === "stars"){
        const spikes = 5;
        const outer = s;
        const inner = s*0.45;
        let rot = Math.PI/2 * 3;
        let step = Math.PI / spikes;

        ctx.moveTo(x, y - outer);
        for(let j=0;j<spikes;j++){
          ctx.lineTo(x + Math.cos(rot) * outer, y + Math.sin(rot) * outer);
          rot += step;
          ctx.lineTo(x + Math.cos(rot) * inner, y + Math.sin(rot) * inner);
          rot += step;
        }
        ctx.closePath();
        ctx.stroke();
      }

      if(state.deco === "hearts"){
        const w = s*1.2;
        const h = s*1.1;
        ctx.moveTo(x, y + h*0.35);
        ctx.bezierCurveTo(x - w, y - h*0.2, x - w*0.3, y - h, x, y - h*0.3);
        ctx.bezierCurveTo(x + w*0.3, y - h, x + w, y - h*0.2, x, y + h*0.35);
        ctx.closePath();
        ctx.stroke();
      }

      if(state.deco === "confetti"){
        const ang = rand(0, Math.PI);
        const len = s*1.2;
        ctx.beginPath();
        ctx.moveTo(x - Math.cos(ang)*len*0.5, y - Math.sin(ang)*len*0.5);
        ctx.lineTo(x + Math.cos(ang)*len*0.5, y + Math.sin(ang)*len*0.5);
        ctx.stroke();
      }
    }
    ctx.restore();
  }

  function render(){
    setCanvasRatio(state.ratio);
    const W = canvas.width, H = canvas.height;

    ctx.clearRect(0,0,W,H);
    ctx.fillStyle = "#fff";
    ctx.fillRect(0,0,W,H);

    ctx.save();
    ctx.strokeStyle = "#eee";
    ctx.lineWidth = 6;
    ctx.strokeRect(18, 18, W-36, H-36);
    ctx.restore();

    drawDecos();

    const lines = wrapLines(state.text);

    const basePx = Math.round(Math.min(W,H) * 0.13);
    const startPx = Math.round(basePx * (state.scale / 100));
    const maxWidth = W * 0.82;
    const fontPx = fitFont(lines, maxWidth, startPx);

    ctx.textAlign = "center";
    ctx.textBaseline = "middle";
    ctx.lineJoin = "round";
    ctx.lineCap = "round";
    ctx.miterLimit = 1;

    const lineGap = Math.round(fontPx * 1.05);
    const totalHeight = lineGap * (lines.length - 1);
    const startY = H * 0.50 - totalHeight/2;

    for(let i=0;i<lines.length;i++){
      const t = lines[i];
      ctx.font = `900 ${fontPx}px "${state.font}", Arial Black, Arial`;

      const mainStroke = Math.max(10, Math.round(fontPx * 0.06));
      const crispStroke = Math.max(3, Math.round(fontPx * 0.014));
      const y = startY + i * lineGap;

      ctx.lineWidth = mainStroke;
      ctx.strokeStyle = "#000";
      ctx.strokeText(t, W/2, y);

      ctx.fillStyle = "#fff";
      ctx.fillText(t, W/2, y);

      ctx.lineWidth = crispStroke;
      ctx.strokeStyle = "#000";
      ctx.strokeText(t, W/2, y);
    }

    ctx.font = `900 ${Math.max(28, Math.round(Math.min(W,H)*0.03))}px "${state.font}", Arial`;
    ctx.fillStyle = "#111";
    ctx.textAlign = "center";
    ctx.textBaseline = "alphabetic";
    ctx.fillText("cocotheaxolotl.org", W/2, H - Math.round(Math.min(W,H)*0.08));
  }

  function sync(){
    state.text = textInput.value;
    state.font = fontSelect.value;
    state.scale = parseInt(sizeRange.value, 10);
    sizeValue.textContent = `${state.scale}%`;
    render();
  }

  textInput.addEventListener("input", sync);
  fontSelect.addEventListener("change", sync);
  sizeRange.addEventListener("input", sync);

  decoChips.addEventListener("click", (e)=>{
    const chip = e.target.closest(".chip");
    if(!chip) return;
    state.deco = chip.getAttribute("data-deco");
    [...decoChips.querySelectorAll(".chip")].forEach(c => c.classList.remove("active"));
    chip.classList.add("active");
    render();
  });

  sizeBtns.addEventListener("click", (e)=>{
    const btn = e.target.closest(".sizeBtn");
    if(!btn) return;
    state.ratio = btn.getAttribute("data-ratio");
    [...sizeBtns.querySelectorAll(".sizeBtn")].forEach(b => b.classList.remove("active"));
    btn.classList.add("active");
    render();
  });

  downloadBtn.addEventListener("click", ()=>{
    const a = document.createElement("a");
    const safe = (state.text || "coco").split("\n")[0].trim().slice(0,18).replace(/[^A-Za-z0-9_-]+/g,"-") || "coco";
    a.download = `coco-bubble-${safe}.png`;
    a.href = canvas.toDataURL("image/png");
    a.click();
  });

  resetBtn.addEventListener("click", ()=>{
    textInput.value = "WISH YOU HAPPY\nEVERY DAY!\nCOCOTHEAXOLOTL.ORG";
    fontSelect.value = "Fredoka One";
    sizeRange.value = "140";
    state.deco = "stars";
    state.ratio = "1:1";

    [...decoChips.querySelectorAll(".chip")].forEach(c => c.classList.remove("active"));
    decoChips.querySelector('[data-deco="stars"]').classList.add("active");

    [...sizeBtns.querySelectorAll(".sizeBtn")].forEach(b => b.classList.remove("active"));
    sizeBtns.querySelector('[data-ratio="1:1"]').classList.add("active");

    sync();
  });

  window.addEventListener("load", ()=>{
    sync();
    setTimeout(sync, 250);
    setTimeout(sync, 900);
  });
</script>
</body>
</html>
